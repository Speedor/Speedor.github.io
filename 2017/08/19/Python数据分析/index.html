<!DOCTYPE html>
<!--[if lte IE 8 ]>
<html class="ie" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<!--
***************  *      *     *
      8          *    *       *
      8          *  *         *
      8          **           *
      8          *  *         *
      8          *    *       *
      8          *      *     *
      8          *        *   ***********    -----Theme By Kieran(http://go.kieran.top)
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<!--<![endif]-->

<head>
  <title>Python数据分析---Numpy | 白柏翁</title>
  <!-- Meta data -->
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="白柏翁">
    <meta name="author" content="speedor">
    <meta name="description" content="WWWWWWWWWWWWWWWWWWW" />
    <meta name="keywords" content="" />

    <!-- Favicon, (keep icon in root folder) -->
    <link rel="Shortcut Icon" href="/img/favicon.ico" type="image/ico">

    <link rel="alternate" href="/atom.xml" title="白柏翁" type="application/atom+xml">
    <link rel="stylesheet" href="/css/all.css" media="screen" type="text/css">
    
    <link rel="stylesheet" href="/highlightjs/vs.css" type="text/css">
    

    <!--[if IE 8]>
    <link rel="stylesheet" type="text/css" href="/css/ie8.css" />
    <![endif]-->

    <!-- jQuery | Load our jQuery, with an alternative source fallback to a local version if request is unavailable -->
    <script src="/js/jquery-1.11.1.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/jquery-1.11.1.min.js"><\/script>')</script>

    <!-- Load these in the <head> for quicker IE8+ load times -->
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="/js/html5shiv.min.js"></script>
    <script src="/js/respond.min.js"></script>
    <![endif]-->

  
  
  

  <style>.col-md-8.col-md-offset-2.opening-statement img{display:none;}</style>
</head>

<!--
<body class="post-template">
-->
<body id="index" class="lightnav animsition">

      <!-- ============================ Off-canvas navigation =========================== -->

    <div class="sb-slidebar sb-right sb-style-overlay sb-momentum-scrolling">
        <div class="sb-close" aria-label="Close Menu" aria-hidden="true">
            <img src="/img/close.png" alt="Close"/>
        </div>
        <!-- Lists in Slidebars -->
        <ul class="sb-menu">
            <li><a href="/" class="animsition-link" title="Home">Home</a></li>
            <li><a href="/archives" class="animsition-link" title="archive">archives</a></li>
            <!-- Dropdown Menu -->
			 
            <li>
                <a class="sb-toggle-submenu">Works<span class="sb-caret"></span></a>
                <ul class="sb-submenu">
                    
                        <li><a href="/" target="_BLANK" class="animsition-link">AAA</a></li>
                    
                        <li><a href="/atom.xml" target="_BLANK" class="animsition-link">BBB</a></li>
                    
                </ul>
            </li>
            
            
            
        </ul>
        <!-- Lists in Slidebars -->
        <ul class="sb-menu secondary">
            <li><a href="/about.html" class="animsition-link" title="about">About</a></li>
            <li><a href="/atom.xml" class="animsition-link" title="rss">RSS</a></li>
        </ul>
    </div>
    
    <!-- ============================ END Off-canvas navigation =========================== -->

    <!-- ============================ #sb-site Main Page Wrapper =========================== -->

    <div id="sb-site">
        <!-- #sb-site - All page content should be contained within this id, except the off-canvas navigation itself -->

        <!-- ============================ Header & Logo bar =========================== -->

        <div id="navigation" class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <!-- Nav logo -->
                    <div class="logo">
                        <a href="/" title="Logo" class="animsition-link">
                         <img src="/img/logo.png" alt="Logo" width="35px;"/> 
                        </a>
                    </div>
                    <!-- // Nav logo -->
                    <!-- Info-bar -->
                    <nav>
                        <ul class="nav">
                            <li><a href="/" class="animsition-link">白柏翁</a></li>
                            <li class="nolink"><span>Always </span>Creative.</li>
                            
                            
                            
                            
                            
                            <li class="nolink"><span>Welcome!</span></li>
                        </ul>
                    </nav>
                    <!--// Info-bar -->
                </div>
                <!-- // .container -->
                <div class="learnmore sb-toggle-right">More</div>
                <button type="button" class="navbar-toggle menu-icon sb-toggle-right" title="More">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar before"></span>
                <span class="icon-bar main"></span>
                <span class="icon-bar after"></span>
                </button>
            </div>
            <!-- // .navbar-inner -->
        </div>

        <!-- ============================ Header & Logo bar =========================== -->


      
<section id="intro">
    <div class="container">
        <div class="row col-md-offset-2">
            <div class="col-md-8">
    			<span class="post-meta">
      <time datetime="2017-08-19T08:20:11.000Z" itemprop="datePublished">
          2017-08-19
      </time>
    
</span>
                <h1>Python数据分析---Numpy</h1>
            </div>
        </div>
        <div class="col-md-8 col-md-offset-2">
      		<p>       因为工作上一直在跟数据打交道，无论是定向爬虫还是数据量化，总是以Python为核心，Python只是一种工具，其他工具的使用也无可厚非，在使用的过程中也感受到了花费更多的时间关注于问题本身而非其他的问题的快感，在看了《利用Python进行数据分析》这本书后更是深深体会到了Python的强大，这本书的作者就是Pandas库的作者，作者真的很走心，在贯穿数据处理的同时，不仅讲解了Numpy、Pandas而且也用实际的股票数据进行分析，良心书单推荐值得一看。今天把之前做的笔记稍微整理了一下再次做一下总结，主要是Numpy和Pandas的基本使用和常规用法，来，喷我～～</p>
<h4 id="numpy简介">NumPy简介</h4>
<p>       老样子，来<font color="#000"><b><a href="http://www.numpy.org/" target="_blank" rel="noopener">官网</a></b></font>走一波，Numpy的官网给我的感觉是最舒服的(可能我见识短吧0.0)，蓝色的基调搭配例子的详解，很容易就能学会很多他的用法，而且但是想要深入的话也是要花点时间精力的，不过相信聪明的你很快也是可以学会的。</p>
<p>       NumPy是高性能的科学计算和数据分析的基础包。说白了就是用来处理数值数据，无非就是加减乘除，不过这里面向的对象是多维数组，当然最常见还是二维数组，也就是类似于表格数值形式的数据，有没有想到矩阵？在Numpy中，数组(ndarray)和矩阵(matrix)是存在不同数据类型的，而且计算也有点区别，要注意了哦。饭得一口一口吃，我们还是一点一点学吧。</p>
<h4 id="安装">安装</h4>
<p>       Numpy的安装其实很简单，只要pip install 就好，在这里推荐用<b>Anaconda3.x以上版本</b>。他是一个开源的Python发行版本，其包含了conda、Python等180多个科学包及其依赖项。因为包含了大量的科学包，Anaconda 的<font color="#000"><b><a href="https://www.anaconda.com/download/" target="_blank" rel="noopener">下载文件</a></b></font>比较大（约 515 MB），如果只需要某些包，或者需要节省带宽或存储空间，也可以使用Miniconda这个较小的发行版（仅包含conda和 Python）。Anaconda3.x中包含了Python3.x，因为2020年Python社区对2.7的更新会停止，所以我们还是早点适应Python3.0的环境比较好一点儿。更重要的是Anaconda中包含了Jupyter NoteBook、Numpy、Pandas等一系列众多科学计算常用库，所以只需安装Anaconda我们就可以直接使用，是不是很方便，而且安装也很简单，大家可以自行下载安装。</p>
<p>NumPy函数和属性： 类型|类型代码|说明 ----|----|---- int8、uint8|i1、u1|有符号和无符号8位整型（1字节）</p>
<p>int16、uint16|i2、u2|有符号和无符号16位整型（2字节）</p>
<p>int32、uint32|i4、u4|有符号和无符号32位整型（4字节）</p>
<p>int64、uint64|i8、u8|有符号和无符号64位整型（8字节）</p>
<p>float16|f2|半精度浮点数</p>
<p>float32</p>
<p>f4、f 单精度浮点数</p>
<p>float64 f8、d 双精度浮点数</p>
<p>float128 f16、g 扩展精度浮点数</p>
<p>complex64 c8 分别用两个32位表示的复数 complex128 c16 分别用两个64位表示的复数 complex256 c32 分别用两个128位表示的复数 bool ? 布尔型 object O python对象 string Sn 固定长度字符串，每个字符1字节，如S10 unicode Un 固定长度Unicode，字节数由系统决定，如U10 表2.1.A.1 NumPy类型   生成函数 作用 np.array( x) np.array( x, dtype) 将输入数据转化为一个ndarray 将输入数据转化为一个类型为type的ndarray np.asarray( array ) 将输入数据转化为一个新的（copy）ndarray np.ones( N ) np.ones( N, dtype) np.ones_like( ndarray ) 生成一个N长度的一维全一ndarray 生成一个N长度类型是dtype的一维全一ndarray 生成一个形状与参数相同的全一ndarray np.zeros( N) np.zeros( N, dtype) np.zeros_like(ndarray) 生成一个N长度的一维全零ndarray 生成一个N长度类型位dtype的一维全零ndarray 类似np.ones_like( ndarray ) np.empty( N ) np.empty( N, dtype) np.empty(ndarray) 生成一个N长度的未初始化一维ndarray 生成一个N长度类型是dtype的未初始化一维ndarray 类似np.ones_like( ndarray ) np.eye( N ) np.identity( N ) 创建一个N * N的单位矩阵（对角线为1，其余为0） np.arange( num) np.arange( begin, end) np.arange( begin, end, step) 生成一个从0到num-1步数为1的一维ndarray 生成一个从begin到end-1步数为1的一维ndarray 生成一个从begin到end-step的步数为step的一维ndarray np.mershgrid(ndarray, ndarray,...) 生成一个ndarray * ndarray * ...的多维ndarray np.where(cond, ndarray1, ndarray2) 根据条件cond，选取ndarray1或者ndarray2，返回一个新的ndarray np.in1d(ndarray, [x,y,...]) 检查ndarray中的元素是否等于[x,y,...]中的一个，返回bool数组 矩阵函数 说明 np.diag( ndarray) np.diag( [x,y,...]) 以一维数组的形式返回方阵的对角线（或非对角线）元素 将一维数组转化为方阵（非对角线元素为0） np.dot(ndarray, ndarray) 矩阵乘法 np.trace( ndarray) 计算对角线元素的和 排序函数 说明 np.sort( ndarray) 排序，返回副本 np.unique(ndarray) 返回ndarray中的元素，排除重复元素之后，并进行排序 np.intersect1d( ndarray1, ndarray2) np.union1d( ndarray1, ndarray2) np.setdiff1d( ndarray1, ndarray2) np.setxor1d( ndarray1, ndarray2) 返回二者的交集并排序。 返回二者的并集并排序。 返回二者的差。 返回二者的对称差 一元计算函数 说明 np.abs(ndarray) np.fabs(ndarray) 计算绝对值 计算绝对值（非复数） np.mean(ndarray) 求平均值 np.sqrt(ndarray) 计算x<sup>0.5 np.square(ndarray) 计算x</sup>2 np.exp(ndarray) 计算e^x log、log10、log2、log1p 计算自然对数、底为10的log、底为2的log、底为(1+x)的log np.sign(ndarray) 计算正负号：1（正）、0（0）、-1（负） np.ceil(ndarray) np.floor(ndarray) np.rint(ndarray) 计算大于等于改值的最小整数 计算小于等于该值的最大整数 四舍五入到最近的整数，保留dtype np.modf(ndarray) 将数组的小数和整数部分以两个独立的数组方式返回 np.isnan(ndarray) 返回一个判断是否是NaN的bool型数组 np.isfinite(ndarray) np.isinf(ndarray) 返回一个判断是否是有穷（非inf，非NaN）的bool型数组 返回一个判断是否是无穷的bool型数组 cos、cosh、sin、sinh、tan、tanh 普通型和双曲型三角函数 arccos、arccosh、arcsin、arcsinh、arctan、arctanh 反三角函数和双曲型反三角函数 np.logical_not(ndarray) 计算各元素not x的真值，相当于-ndarray 多元计算函数 说明 np.add(ndarray, ndarray) np.subtract(ndarray, ndarray) np.multiply(ndarray, ndarray) np.divide(ndarray, ndarray) np.floor_divide(ndarray, ndarray) np.power(ndarray, ndarray) np.mod(ndarray, ndarray) 相加 相减 乘法 除法 圆整除法（丢弃余数） 次方 求模 np.maximum(ndarray, ndarray) np.fmax(ndarray, ndarray) np.minimun(ndarray, ndarray) np.fmin(ndarray, ndarray) 求最大值 求最大值（忽略NaN） 求最小值 求最小值（忽略NaN） np.copysign(ndarray, ndarray) 将参数2中的符号赋予参数1 np.greater(ndarray, ndarray) np.greater_equal(ndarray, ndarray) np.less(ndarray, ndarray) np.less_equal(ndarray, ndarray) np.equal(ndarray, ndarray) np.not_equal(ndarray, ndarray) &gt; &gt;= &lt; &lt;= == != logical_and(ndarray, ndarray) logical_or(ndarray, ndarray) logical_xor(ndarray, ndarray) &amp; | ^ np.dot( ndarray, ndarray) 计算两个ndarray的矩阵内积 np.ix_([x,y,m,n],...) 生成一个索引器，用于Fancy indexing(花式索引) 文件读写 说明 np.save(string, ndarray) 将ndarray保存到文件名为 [string].npy 的文件中（无压缩） np.savez(string, ndarray1, ndarray2, ...) 将所有的ndarray压缩保存到文件名为[string].npy的文件中 np.savetxt(sring, ndarray, fmt, newline='') 将ndarray写入文件，格式为fmt np.load(string) 读取文件名string的文件内容并转化为ndarray对象（或字典对象） np.loadtxt(string, delimiter) 读取文件名string的文件内容，以delimiter为分隔符转化为ndarray 表2.1.A.2 np常用函数   B NumPy.ndarray函数和属性： ndarray.ndim 获取ndarray的维数 ndarray.shape 获取ndarray各个维度的长度 ndarray.dtype 获取ndarray中元素的数据类型 ndarray.T 简单转置矩阵ndarray 表2.1.B.1 ndarray属性   函数 说明 ndarray.astype(dtype) 转换类型，若转换失败则会出现TypeError ndarray.copy() 复制一份ndarray(新的内存空间) ndarray.reshape((N,M,...)) 将ndarray转化为N<em>M</em>...的多维ndarray（非copy） ndarray.transpose((xIndex,yIndex,...)) 根据维索引xIndex,yIndex...进行矩阵转置，依赖于shape，不能用于一维矩阵（非copy） ndarray.swapaxes(xIndex,yIndex) 交换维度（非copy） 计算函数 说明 ndarray.mean( axis=0 ) 求平均值  ndarray.sum( axis= 0) 求和  ndarray.cumsum( axis=0) ndarray.cumprod( axis=0) 累加  累乘 ndarray.std() ndarray.var() 方差 标准差 ndarray.max() ndarray.min() 最大值 最小值 ndarray.argmax() ndarray.argmin() 最大值索引 最小值索引 ndarray.any() ndarray.all() 是否至少有一个True 是否全部为True ndarray.dot( ndarray) 计算矩阵内积 排序函数 说明 ndarray.sort(axis=0) 排序，返回源数据 表2.1.B.2 ndarray函数   ndarray[n] 选取第n+1个元素 ndarray[n:m] 选取第n+1到第m个元素 ndarray[:] 选取全部元素 ndarray[n:] 选取第n+1到最后一个元素 ndarray[:n] 选取第0到第n个元素 ndarray[ bool_ndarray ] 注：bool_ndarray表示bool类型的ndarray 选取为true的元素 ndarray[[x,y,m,n]]... 选取顺序和序列为x、y、m、n的ndarray ndarray[n,m] ndarray[n][m] 选取第n+1行第m+1个元素 ndarray[n,m,...] ndarray[n][m].... 选取n行n列....的元素 表2.1.B.3 ndarray索引/切片方式   C NumPy.random函数和属性： 函数 说明 seed() seed(int) seed(ndarray) 确定随机数生成种子 permutation(int) permutation(ndarray) 返回一个一维从0~9的序列的随机排列 返回一个序列的随机排列 shuffle(ndarray) 对一个序列就地随机排列 rand(int) randint(begin,end,num=1) 产生int个均匀分布的样本值 从给定的begin和end随机选取num个整数 randn(N, M, ...) 生成一个N<em>M</em>...的正态分布（平均值为0，标准差为1）的ndarray normal(size=(N,M,...)) 生成一个N<em>M</em>...的正态（高斯）分布的ndarray  beta(ndarray1,ndarray2) 产生beta分布的样本值，参数必须大于0   chisquare() 产生卡方分布的样本值   gamma() 产生gamma分布的样本值   uniform() 产生在[0,1)中均匀分布的样本值   2.1.C.1 random常用函数 D NumPy.linalg函数和属性： 函数 说明 det(ndarray) 计算矩阵列式 eig(ndarray) 计算方阵的本征值和本征向量 inv(ndarray) pinv(ndarray) 计算方阵的逆 计算方阵的Moore-Penrose伪逆 qr(ndarray) 计算qr分解  svd(ndarray) 计算奇异值分解svd solve(ndarray) 解线性方程组Ax = b，其中A为方阵  lstsq(ndarray) 计算Ax=b的最小二乘解   2.1.D.1 linalg常用函数 Pandas 比其更强 Numpy（矩阵操作 ） 读取txt文件(常用pandas) Numpy.genfromtxt(&quot;xx.txt&quot;,delimiter=&quot;,&quot;,dtype=str,skip_header=1) 创建向量/矩阵 vector=Numpy.array([2,100,15,20,23,134,233]) #类型要相同 查看维度(行,列) Vector.shape 查看格式 Vector.dtype 格式转换 Vector.astype(float) 取值 Vector[0][1] #类数组，也可切片matrix<a href="行,列">1:3,1:2</a> 类matlab 判断 Vector==10 ,所有元素进行判断返回array([True,False,False],dtype=bool) Equal_10 = (vector == 10) 返回True的索引值 与，或 A=(Vector == 10) &amp; | (vector == 5)返回[True,False,False] 数学运算 Vector.min() max() sum(axis = 1(按行)/0(按列)) np.where(conditions,x,y) if （condituons成立）：数组变x else: 数组变y Np.mean(arr,axis=0) 默认计算列的平均值 np.std(normalX, axis=0, ddof=1) 计算列的标准差，ddof是 如果你能拿到所有的数据，ddof就等于0. 如果拿不到所有的样本数据，ddof就是1 Np.tile() 重复某个数组。tile(A,n)A重复n次。tile(A,(m,n))A重复m行n列 np.cumsum 求元素累加和，上述操作将每项加到后一项 先声明两者所要实现的功能是一致的（将多维数组降位一维），两者的区别在于返回拷贝（copy）还是返回视图（view），numpy.flatten()返回一份拷贝，对拷贝所做的修改不会影响（reflects）原始矩阵，而numpy.ravel()返回的是视图（view，也颇有几分C/C++引用reference的意味），会影响（reflects）原始矩阵。 1. 两者的功能 &gt;&gt;&gt; x = np.array([[1, 2], [3, 4]]) &gt;&gt;&gt; x array([[1, 2], [3, 4]]) &gt;&gt;&gt; x.flatten() array([1, 2, 3, 4]) &gt;&gt;&gt; x.ravel() array([1, 2, 3, 4]) 两者默认均是行序优先 &gt;&gt;&gt; x.flatten('F') array([1, 3, 2, 4]) &gt;&gt;&gt; x.ravel('F') array([1, 3, 2, 4]) &gt;&gt;&gt; x.reshape(-1) array([1, 2, 3, 4]) &gt;&gt;&gt; x.T.reshape(-1) array([1, 3, 2, 4]) 2. 两者的区别 &gt;&gt;&gt; x = np.array([[1, 2], [3, 4]]) &gt;&gt;&gt; x.flatten()[1] = 100 &gt;&gt;&gt; x array([[1, 2], [3, 4]]) # flatten：返回的是拷贝 &gt;&gt;&gt; x.ravel()[1] = 100 &gt;&gt;&gt; x array([[ 1, 100], [ 3, 4]])</p>
<p> </p>
<p> </p>
<p> </p>

            <div class="clearfix"></div>
            <hr class="nogutter">
        </div>
        <nav class="pagination" role="pagination">
    
    <a class="pull-left" href="/2018/09/05/Python数据分析-Pandas/" style="float: left;">
        ← Python数据分析---Pandas
    </a>
    
    
    <a class="pull-right" href="/2017/07/12/JupyterBook/">
        JupyterNoteBook →
    </a>
    
</nav>

        <div class="duoshuo">


</div>
    </div>
</section>


      
<!-- ============================ Footer =========================== -->

<footer>
    <div class="container">
            <div class="copy">
                <p>
                    &copy; 2014<script>new Date().getFullYear()>2010&&document.write("-"+new Date().getFullYear());</script>, Content By speedor. All Rights Reserved.
                </p>
                <p>Theme By <a href="//go.kieran.top" style="color: #767D84">Kieran</a></p>
            </div>
            <div class="social">
                <ul>
                    
                    
                    
                    
                    
                </ul>
            </div>
            <div class="clearfix"> </div>
        </div>
</footer>

<!-- ============================ END Footer =========================== -->
      <!-- Load our scripts -->
<!-- Resizable 'on-demand' full-height hero -->
<script type="text/javascript">
    var resizeHero = function () {
        var hero = $(".cover,.heightblock"),
            window1 = $(window);
        hero.css({
            "height": window1.height()
        });
    };

    resizeHero();

    $(window).resize(function () {
        resizeHero();
    });
</script>
<script src="/js/plugins.min.js"></script><!-- Bootstrap core and concatenated plugins always load here -->
<script src="/js/jquery.flexslider-min.js"></script><!-- Flexslider plugin -->
<script src="/js/scripts.js"></script><!-- Theme scripts -->


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$('#intro').find('img').each(function(){
  var alt = this.alt;

  if (alt){
    $(this).after('<span class="caption" style="display:none">' + alt + '</span>');
  }

  $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox" rel="gallery" />');
});
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

<!-- Initiate flexslider plugin -->
<script type="text/javascript">
    $(document).ready(function($) {
      (function(){
        console.log('font');
        var getCss = function(path) {
          var head = document.getElementsByTagName('head')[0];
          link = document.createElement('link');
          link.href = path;
          link.rel = 'stylesheet';
          link.type = 'text/css';
          head.appendChild(link);
        };
        getCss('https://fonts.googleapis.com/css?family=Montserrat:400,700');
        getCss('https://fonts.googleapis.com/css?family=Open+Sans:400,600');
      })();
      $('.flexslider').flexslider({
        animation: "fade",
        prevText: "",
        nextText: "",
        directionNav: true
      });
    });
</script>

</body>
</html>
